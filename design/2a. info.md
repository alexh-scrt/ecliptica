## **Major Design Decisions:**

### 1. **Transaction Type Taxonomy**
- 9 transaction types covering all use cases
- Type-safe enum design with unified envelope
- Extensible versioning system (MAJOR.MINOR)

### 2. **Binary Serialization**
- Fully canonical (deterministic byte encoding)
- Little-endian integers for consistency
- Varint (LEB128) for efficient length encoding
- No padding, no alignment issues

### 3. **Post-Quantum Signatures**
- ML-DSA (Dilithium-3): 2420-byte signatures
- ~1.2ms signing, ~0.5ms verification
- Domain-separated signing messages
- Future batch verification support (v0.0002)

### 4. **Multi-Input/Multi-Output Privacy**
- Unlinkable inputs via unique nullifiers
- Fresh ephemeral keys per output (ML-KEM-512)
- Zero-knowledge balance proofs
- Recursive STARK for proof compression

### 5. **Transaction Expiry & TTL**
- Block height-based expiration
- Enables nonce reuse after expiry
- Automatic mempool pruning
- Recommended: 256 blocks (~2 min)

### 6. **Fee Model**
- EIP-1559-style dynamic base fee
- 4 components: base + exec + proof + storage
- 30-70% burn rate (deflationary)
- Gas costs calibrated for PQ operations

### 7. **Cross-Shard Protocol**
- Two-phase commit (2PC) with receipts
- Timeout-based rollback mechanism
- Receipt nullifiers prevent double-redemption
- Atomic across beacon finality

## **Key Technical Innovations:**

**Nonce Management:**
- Gap handling (max 16 future nonces)
- Priority penalty for gaps
- Automatic recovery on reorg

**Mempool Architecture:**
- Priority queue + account index
- Replacement transactions (110% fee bump)
- Anti-spam rate limiting
- Gossip-based propagation

**Size Optimization:**
- UTXO (1â†’2): ~4.8 KB
- Account transfer: ~3.5 KB
- Target: 50K TPS = 200 MB/s bandwidth
